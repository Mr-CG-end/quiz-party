import{_ as M,D as N,u as B,c as d,w as F,o as Q,r as b,a as u,b as a,d as q,e as g,T as j,F as m,f as _,n as T,g as c,t as f,h as E,i as J,j as k}from"./index-2e388ef4.js";const O=[{title:"先来个简单的热身！中国的“国球”通常是指哪项运动？",items:[{id:1,title:"羽毛球"},{id:2,title:"乒乓球"},{id:3,title:"篮球"},{id:4,title:"足球"}],currectAnswer:2,response:{win:"太棒了！这可是常识！",lose:"这都不知道？去面壁！"}},{title:"考验一下你的语文水平，“床前明月光”的下一句是什么？",items:[{id:1,title:"疑是地上霜"},{id:2,title:"举头望明月"},{id:3,title:"低头思故乡"},{id:4,title:"月是故乡明"}],currectAnswer:1,response:{win:"李白为你点赞！",lose:"语文老师要哭了！"}},{title:"中国四大名著中，哪一部主要讲述了孙悟空的故事？",items:[{id:1,title:"红楼梦"},{id:2,title:"三国演义"},{id:3,title:"水浒传"},{id:4,title:"西游记"}],currectAnswer:4,response:{win:"火眼金睛！",lose:"再去看看书吧！"}},{title:"中国最高的高原被称为“世界屋脊”，它是？",items:[{id:1,title:"黄土高原"},{id:2,title:"云贵高原"},{id:3,title:"青藏高原"},{id:4,title:"帕米尔高原"}],currectAnswer:3,response:{win:"地理不错嘛！",lose:"还需要多看看地图哦！"}}];function x(t){let s=t.length;for(;s;){let l=Math.floor(Math.random()*s);s-=1;let e=t[s];t[s]=t[l],t[l]=e}return t}const R={name:"QuizView",components:{DefaultLayout:N},setup(){const t=_(0),s=_(100),l=_(null),e=_([]),w=B(),r=d(()=>x(O)),o=d(()=>r.value[t.value]),n=d(()=>x(o.value.items)),h=d(()=>e.value[t.value]==="timeout"?"时间到了！":e.value[t.value]==="win"?o.value.response.win:o.value.response.lose),z=()=>{clearTimeout(l.value),l.value=null},v=()=>{if(s.value<=0)return z();s.value-=1,l.value=setTimeout(v,100)},y=()=>{let i=0;for(const I of e.value)I==="win"&&(i+=100);const V=s.value/10;return Math.floor(i*V)},p=()=>{setTimeout(()=>{if(s.value=100,t.value+1>r.value.length-1)return localStorage.setItem("score",JSON.stringify(y())),w.push("/result");t.value+=1,v()},3e3)},A=()=>{e.value[t.value]="win"},C=()=>{e.value[t.value]="lose"},S=()=>{e.value[t.value]="timeout"},L=i=>{z(),o.value.currectAnswer===i?A():C(),p()},D=i=>e.value[i]?`quiz-counters__couter quiz-counters__couter--${e.value[i]}`:`quiz-counters__couter quiz-counters__couter--${i===t.value?"current":"normal"}`;return F(s,i=>{i<=0&&(S(),p())}),Q(v),{step:t,width:s,statuses:e,quiz:o,quizzes:r,answers:n,statusText:h,checkAnswer:L,counterClasses:D}}},W={class:"status__text"},G={class:"quiz-view__title"},H={class:"quizzes quiz-view__quizzes"},K=["onClick"],P={class:"quiz__title"},U={class:"quiz-counters"};function X(t,s,l,e,w,r){const o=b("DefaultLayout");return u(),a(m,null,[q(j,{name:"fade"},{default:g(()=>[e.statuses[e.step]?(u(),a("div",{key:0,class:T(`status status--${e.statuses[e.step]}`)},[c("span",W,f(e.statusText),1)],2)):E("",!0)]),_:1}),q(o,{class:"quiz-view"},{default:g(()=>[c("div",{class:"timeout",style:J(`width: ${e.width}%`)},null,4),c("h1",G,f(e.quiz.title),1),c("div",H,[(u(!0),a(m,null,k(e.answers,n=>(u(),a("div",{key:n.id,class:"quiz",onClick:h=>e.checkAnswer(n.id)},[c("span",P,f(n.title),1)],8,K))),128))]),c("div",U,[(u(!0),a(m,null,k(e.quizzes.length,n=>(u(),a("span",{key:n,class:T(e.counterClasses(n-1))},null,2))),128))])]),_:1})],64)}const $=M(R,[["render",X],["__scopeId","data-v-04d2c65c"]]);export{$ as default};
